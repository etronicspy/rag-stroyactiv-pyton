---
description: 
globs: 
alwaysApply: true
---
# API Design Rules

## Версионирование и структура
- Версионирование /api/v1/, pydantic модели
- UTF-8 ответы, обработка ошибок для всех БД

## Форматы данных
- CSV/Excel: обязательные поля (name, description), ограничение 50MB
- Валидация всех входящих данных через Pydantic

## Поиск и фильтрация
- Fallback-стратегия: vector_search → если 0 результатов → SQL LIKE поиск

## Безопасность API
- Rate limiting через Redis для всех эндпоинтов
- CORS конфигурация для продакшн среды
- Ограничение размера запросов и файлов (защита от атак)

## Мониторинг и логирование
- Middleware логирования всех входящих запросов
