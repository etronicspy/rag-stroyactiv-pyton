# ===================================
# RAG Construction Materials API Configuration Example
# ===================================
# 
# Copy this file to .env.local and fill in your actual values
# 
# –í–ê–ñ–ù–û: –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏!
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ env.example –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
#

# ===================================
# ENVIRONMENT SETTINGS
# ===================================
# –°—Ä–µ–¥–∞: development, staging, production
ENVIRONMENT=development

# ===================================
# PROJECT SETTINGS  
# ===================================
PROJECT_NAME=RAG Construction Materials API
VERSION=1.0.0
API_V1_STR=/api/v1

# ===================================
# CORS CONFIGURATION
# ===================================
# –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö origins –¥–ª—è CORS (JSON array)
# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: ["http://localhost:3000", "http://127.0.0.1:3000"]
# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω: —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
BACKEND_CORS_ORIGINS=["*"]

# ===================================
# VECTOR DATABASE CONFIGURATION
# ===================================
# –¢–∏–ø –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î: qdrant_cloud, qdrant_local, weaviate, pinecone
DATABASE_TYPE=qdrant_cloud

# --- Qdrant Settings ---
QDRANT_URL=https://your-cluster-url.qdrant.io:6333
QDRANT_API_KEY=your_qdrant_api_key_here
QDRANT_COLLECTION_NAME=materials
QDRANT_VECTOR_SIZE=1536
QDRANT_TIMEOUT=30

# --- Weaviate Settings (Optional) ---
WEAVIATE_URL=https://your-cluster.weaviate.network
WEAVIATE_API_KEY=your_weaviate_api_key_here

# --- Pinecone Settings (Optional) ---
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment

# ===================================
# POSTGRESQL CONFIGURATION (via SSH Tunnel)
# ===================================
# SSH —Ç—É–Ω–Ω–µ–ª—å: ssh -L 5435:localhost:5432 root@31.130.148.200
# 
# –í–ê–ñ–ù–û: –†–∞–±–æ—Ç–∞–µ–º –¢–û–õ–¨–ö–û —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö stbr_rag1!
# –≠—Ç–∞ –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å ICU –ª–æ–∫–∞–ª—å—é (ru-RU-x-icu) –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
# –ü–æ–ª–Ω—ã–π URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
POSTGRESQL_URL=example

# –ò–õ–ò –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è POSTGRESQL_URL)
POSTGRESQL_USER=example
POSTGRESQL_PASSWORD=example
POSTGRESQL_HOST=localhost
POSTGRESQL_PORT=5435
POSTGRESQL_DATABASE=stbr_rag1

# Connection Pool Settings
POSTGRESQL_POOL_SIZE=10
POSTGRESQL_MAX_OVERFLOW=20

# ===================================
# REDIS CONFIGURATION
# ===================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password_if_any
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10
REDIS_TIMEOUT=10

# ===================================
# SSH TUNNEL SERVICE CONFIGURATION
# ===================================
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ SSH —Ç—É–Ω–Ω–µ–ª—è –∫–∞–∫ —Å–µ—Ä–≤–∏—Å–∞
ENABLE_SSH_TUNNEL=true
SSH_TUNNEL_LOCAL_PORT=5435
SSH_TUNNEL_REMOTE_HOST=31.130.148.200
SSH_TUNNEL_REMOTE_USER=root
SSH_TUNNEL_REMOTE_PORT=5432
SSH_TUNNEL_KEY_PATH=~/.ssh/postgres_key

# SSH Key Authentication
# –ü–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ SSH –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (–µ—Å–ª–∏ –∫–ª—é—á –∑–∞—â–∏—â–µ–Ω –ø–∞—Ä–æ–ª–µ–º)
SSH_TUNNEL_KEY_PASSPHRASE=your_ssh_key_passphrase_here

# Connection Settings
SSH_TUNNEL_TIMEOUT=30
SSH_TUNNEL_RETRY_ATTEMPTS=3
SSH_TUNNEL_RETRY_DELAY=5
SSH_TUNNEL_HEARTBEAT_INTERVAL=60
SSH_TUNNEL_AUTO_RESTART=true

# Advanced SSH Options
SSH_TUNNEL_COMPRESSION=true
SSH_TUNNEL_KEEP_ALIVE=60
SSH_TUNNEL_STRICT_HOST_KEY_CHECKING=false

# ===================================
# AI PROVIDER CONFIGURATION
# ===================================
# AI Provider: openai, azure_openai, huggingface, ollama
AI_PROVIDER=openai

# --- OpenAI Settings ---
# –í–ê–ñ–ù–û: –î–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π OpenAI API –∫–ª—é—á!
# –ë–µ–∑ –Ω–µ–≥–æ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è mock —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º –ø–æ–∏—Å–∫–∞
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=text-embedding-3-small
OPENAI_MAX_RETRIES=5
OPENAI_TIMEOUT=30

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ ---
# –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ OPENAI_API_KEY –∏ ENABLE_FALLBACK_DATABASES

# --- Azure OpenAI Settings (Optional) ---
AZURE_OPENAI_API_KEY=your_azure_openai_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_MODEL=text-embedding-ada-002

# --- HuggingFace Settings (Optional) ---
HUGGINGFACE_MODEL=sentence-transformers/all-MiniLM-L6-v2
HUGGINGFACE_DEVICE=cpu

# --- Ollama Settings (Optional) ---
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ===================================
# PERFORMANCE SETTINGS
# ===================================
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ (–≤ –±–∞–π—Ç–∞—Ö)
MAX_UPLOAD_SIZE=52428800  # 50MB

# –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
BATCH_SIZE=100

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
MAX_CONCURRENT_UPLOADS=5

# ===================================
# MIDDLEWARE SETTINGS
# ===================================
# Security settings
MAX_REQUEST_SIZE_MB=50
ENABLE_SECURITY_HEADERS=true
ENABLE_INPUT_VALIDATION=true

# Rate limiting settings  
ENABLE_RATE_LIMITING=false
RATE_LIMIT_RPM=60
RATE_LIMIT_RPH=1000
RATE_LIMIT_BURST=10

# ===================================
# üîß LOGGING CONFIGURATION (LoggingConfig)
# ===================================

# --- Core logging ---
LOG_LEVEL=INFO
ENABLE_STRUCTURED_LOGGING=false              # true ‚Üí JSON logs
LOG_FILE=logs/app.log
LOG_COLORS=true                               # colorized console output in dev
LOG_THIRD_PARTY_LEVEL=WARNING

# --- HTTP logging ---
ENABLE_REQUEST_LOGGING=true
LOG_REQUEST_BODY=false
LOG_RESPONSE_BODY=false
LOG_REQUEST_HEADERS=true
LOG_MASK_SENSITIVE_HEADERS=true
LOG_MAX_BODY_SIZE=65536                       # bytes

# --- Correlation & tracing ---
LOG_CORRELATION_ID=true
LOG_CORRELATION_ID_HEADER=X-Correlation-ID

# --- Database logging ---
LOG_DATABASE_OPERATIONS=true
LOG_SQL_QUERIES=false
LOG_SQL_PARAMETERS=false
LOG_VECTOR_OPERATIONS=true
LOG_CACHE_OPERATIONS=false

# --- Performance metrics ---
LOG_PERFORMANCE_METRICS=true
LOG_TIMING_DETAILS=true
LOG_SLOW_OPERATION_THRESHOLD_MS=1000

# --- Security events ---
LOG_SECURITY_EVENTS=true
LOG_BLOCKED_REQUESTS=true
LOG_SECURITY_INCIDENTS=true

# --- Formatting ---
LOG_TIMESTAMP_FORMAT=ISO8601                  # ISO8601 | RFC3339 | timestamp
LOG_SOURCE_INFO=true
LOG_STACK_TRACE=true

# --- File handling ---
LOG_FILE_ROTATION=true
LOG_FILE_MAX_SIZE_MB=10
LOG_FILE_BACKUP_COUNT=5
LOG_ASYNC_LOGGING=false
LOG_BUFFER_SIZE=100
LOG_FLUSH_INTERVAL=5

# --- Logger levels ---
LOG_MIDDLEWARE_LEVEL=INFO
LOG_SERVICES_LEVEL=INFO
LOG_API_LEVEL=INFO
LOG_DATABASE_LEVEL=INFO

# --- Exclude lists ---
LOG_EXCLUDE_PATHS=["/docs","/openapi.json","/favicon.ico","/static","/health"]
LOG_EXCLUDE_HEADERS=["user-agent","accept-encoding","accept-language"]

# ===================================
# FALLBACK STRATEGIES
# ===================================
# –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–π
ENABLE_FALLBACK_DATABASES=true

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
DB_MAX_RETRIES=3

# –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
DB_RETRY_INTERVAL=5

# ===================================
# CACHE SETTINGS
# ===================================
# –í–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
ENABLE_RESPONSE_CACHE=true

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–µ—à–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
CACHE_TTL=300

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞ (–≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö)
CACHE_MAX_SIZE=1000

# ===================================
# TESTING SETTINGS
# ===================================
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock-–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
USE_MOCK_DATA=false

# –ü—É—Ç—å –∫ —Ç–µ—Å—Ç–æ–≤—ã–º –¥–∞–Ω–Ω—ã–º
TEST_DATA_PATH=tests/data